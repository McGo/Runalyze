<?php

namespace Runalyze\Calculation\Prognosis;

/**
 * Generated by PHPUnit_SkeletonGenerator 1.2.0 on 2013-10-26 at 16:21:32.
 */
class PrognosisTest extends \PHPUnit_Framework_TestCase {

	/**
	 * @var Runalyze\Calculation\Prognosis\Prognosis
	 */
	protected $object;

	protected function setUp() {
		$this->object = new Prognosis();
	}

	public function testAllStrategies() {
		$Bock    = new Bock();
		$Steffny = new Steffny();
		$Cameron = new Cameron();

		$Daniels = new Daniels();
		$Daniels->setVDOT(50);
		$Daniels->adjustVDOT();
		$Daniels->setBasicEnduranceForAdjustment(50);

		$Distances  = array(5, 10, 21.1, 42.2);
		$Strategies = array(
			$Bock,
			$Steffny,
			$Cameron,
			$Daniels
		);

		foreach ($Strategies as $Strategy) {
			$this->object->setStrategy($Strategy);

			foreach ($Distances as $Distance) {
				$this->assertEquals(
					$Strategy->inSeconds($Distance),
					$this->object->inSeconds($Distance),
					'Strategy '.get_class($Strategy).' failed for '.$Distance.' km'
				);
			}
		}
	}

	public function testForBock() {
		$Strategy = new Bock();
		$this->object->setStrategy($Strategy);

		$this->assertEquals( $Strategy->inSeconds(5), $this->object->inSeconds(5) );
		$this->assertEquals( $Strategy->inSeconds(10), $this->object->inSeconds(10) );
		$this->assertEquals( $Strategy->inSeconds(21.1), $this->object->inSeconds(21.1) );
		$this->assertEquals( $Strategy->inSeconds(42.2), $this->object->inSeconds(42.2) );
	}

}
